{"version":3,"names":[],"mappings":"","sources":["home.js"],"sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\n/**\n * Created by leo108 on 16/9/20.\n */\n$(document).ready(function () {\n    var $pwdDialog = $('#change-pwd-dialog');\n    $('#btn_logout').click(function () {\n        bootbox.confirm(Laravel.trans('message.confirm_logout'), function (ret) {\n            if (ret) {\n                location.href = Laravel.router('logout');\n            }\n        });\n    });\n\n    $('#btn_change_pwd').click(function () {\n        $pwdDialog.modal();\n    });\n\n    $('#btn-save-pwd').click(function () {\n        $pwdDialog.find('div.form-group').removeClass('has-error');\n        var map = {\n            'old': 'old-pwd',\n            'new1': 'new-pwd',\n            'new2': 'new-pwd2'\n        };\n        var val = {};\n\n        for (var x in map) {\n            var $input = $('#' + map[x]);\n            val[x] = $input.val();\n            if ($input.val() == '') {\n                $input.closest('div.form-group').addClass('has-error');\n            }\n        }\n\n        if (val['new1'] != val['new2']) {\n            $('#new-pwd2').closest('div.form-group').addClass('has-error');\n        }\n\n        if ($pwdDialog.find('.has-error').length > 0) {\n            return;\n        }\n\n        var req = {\n            'old': val['old'],\n            'new': val['new1']\n        };\n\n        $.post(Laravel.router('change_pwd'), req, function (ret) {\n            alert(ret.msg);\n            $pwdDialog.modal('hide');\n        }, 'json');\n    });\n});\n\n},{}]},{},[1]);\n"],"file":"home.js"}