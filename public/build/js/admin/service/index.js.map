{"version":3,"names":[],"mappings":"","sources":["index.js"],"sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\n/**\n * Created by leo108 on 2016/9/23.\n */\n\nVue.component('admin-service-index', {\n    data: function data() {\n        return {\n            query: {\n                search: ''\n            },\n            services: [],\n            editService: {\n                id: 0,\n                name: '',\n                enabled: true,\n                allow_proxy: false,\n                hosts: ''\n            },\n            busy: false,\n            isEdit: false\n        };\n    },\n    ready: function ready() {\n        this.services = Laravel.data.services.data;\n        this.query = Laravel.data.query;\n    },\n\n    methods: {\n        bool2icon: function bool2icon(value) {\n            var cls = value ? 'fa-check' : 'fa-times';\n            return '<i class=\"fa ' + cls + '\"></i>';\n        },\n        displayHosts: function displayHosts(hostArr) {\n            var glu = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '<br/>';\n\n            var arr = [];\n            for (var x in hostArr) {\n                arr.push(hostArr[x].host);\n            }\n            return arr.join(glu);\n        },\n        edit: function edit(item) {\n            this.isEdit = true;\n            this.editService.id = item.id;\n            this.editService.name = item.name;\n            this.editService.enabled = item.enabled;\n            this.editService.allow_proxy = item.allow_proxy;\n            this.editService.hosts = this.displayHosts(item.hosts, \"\\n\");\n            $('#edit-dialog').modal();\n        },\n        showAdd: function showAdd() {\n            this.isEdit = false;\n            this.editService.id = 0;\n            this.editService.name = '';\n            this.editService.hosts = '';\n            this.editService.enabled = true;\n            this.editService.allow_proxy = false;\n            $('#edit-dialog').modal();\n        },\n        save: function save() {\n            if (this.isEdit) {\n                this.update();\n            } else {\n                this.store();\n            }\n        },\n        store: function store() {\n            var _this = this;\n\n            this.busy = true;\n            this.$http.post(Laravel.router('service.store'), this.editService).then(function (response) {\n                _this.busy = false;\n                alert(response.data.msg);\n                location.reload();\n            });\n        },\n        update: function update() {\n            var _this2 = this;\n\n            this.busy = true;\n            this.$http.put(Laravel.router('service.update', { service: this.editService.id }), this.editService).then(function (response) {\n                _this2.busy = false;\n                alert(response.data.msg);\n                location.reload();\n            });\n        }\n    }\n});\n\n},{}]},{},[1]);\n"],"file":"index.js"}